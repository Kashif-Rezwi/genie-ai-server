// Test setup file
import 'reflect-metadata';

// Mock environment variables for testing
process.env.NODE_ENV = 'test';
process.env.JWT_SECRET = 'test-secret';
process.env.JWT_EXPIRES_IN = '1h';
process.env.POSTGRES_HOST = 'localhost';
process.env.POSTGRES_PORT = '5432';
process.env.POSTGRES_USER = 'test';
process.env.POSTGRES_PASSWORD = 'test';
process.env.POSTGRES_DB = 'test_db';
process.env.REDIS_HOST = 'localhost';
process.env.REDIS_PORT = '6379';
process.env.DEFAULT_AI_MODEL = 'gpt-3.5-turbo';
process.env.PAYMENT_CURRENCY = 'USD';
process.env.PAYMENT_SUCCESS_URL = 'http://localhost:3000/success';
process.env.PAYMENT_FAILURE_URL = 'http://localhost:3000/failure';
process.env.CREDIT_CACHE_TTL = '300';
process.env.CREDIT_RESERVATION_TTL = '300';
process.env.MAX_RESERVATIONS_PER_USER = '5';
process.env.MAX_RESERVATION_AMOUNT = '1000';
process.env.MIN_RESERVATION_AMOUNT = '1';
process.env.LOW_BALANCE_THRESHOLD = '10';
process.env.CRITICAL_BALANCE_THRESHOLD = '1';
process.env.MIN_CREDIT_TRANSACTION = '1';
process.env.MAX_CREDIT_TRANSACTION = '10000';
process.env.REDIS_CHECK_INTERVAL = '1000';
process.env.REDIS_TIMEOUT = '5000';
process.env.REDIS_RETRY_ATTEMPTS = '3';
process.env.CLEANUP_BATCH_SIZE = '100';
process.env.CLEANUP_MAX_RETRIES = '3';
process.env.CLEANUP_LOCK_TTL = '300';
process.env.CLEANUP_BATCH_DELAY = '1000';
process.env.MAX_OPERATION_RETRIES = '3';
process.env.OPERATION_BASE_DELAY = '1000';
process.env.ENABLE_OPTIMISTIC_LOCKING = 'true';
process.env.IDEMPOTENCY_TTL = '3600';
process.env.RATE_LIMIT_TTL = '60';
process.env.RATE_LIMIT_MAX = '100';
process.env.RATE_LIMIT_PREMIUM_MAX = '500';
process.env.RATE_LIMIT_ADMIN_MAX = '1000';
process.env.BCRYPT_ROUNDS = '12';
process.env.SESSION_SECRET = 'test-session-secret';
process.env.CORS_ORIGINS = 'http://localhost:3000';
process.env.API_KEY_HEADER = 'x-api-key';
process.env.MAX_REQUEST_SIZE = '10mb';
process.env.ENABLE_RATE_LIMITING = 'true';
process.env.SECURITY_HEADERS = 'true';
process.env.SMTP_HOST = 'localhost';
process.env.SMTP_PORT = '587';
process.env.SMTP_SECURE = 'false';
process.env.SMTP_USER = 'test';
process.env.SMTP_PASSWORD = 'test';
process.env.EMAIL_FROM = 'test@example.com';
process.env.APP_URL = 'http://localhost:4000';
process.env.ENABLE_CRON_JOBS = 'false';
process.env.ANALYTICS_CRON = '0 0 * * *';
process.env.MAINTENANCE_CRON = '0 2 * * *';
process.env.BACKUP_CRON = '0 3 * * *';
process.env.CLEANUP_CRON = '0 4 * * *';
process.env.ANALYTICS_RETENTION_DAYS = '30';
process.env.GENERATE_PDF_REPORTS = 'false';
process.env.ANALYTICS_EMAIL_RECIPIENTS = 'admin@example.com';
process.env.CLEANUP_BATCH_SIZE_MAINTENANCE = '100';
process.env.BACKUP_RETENTION_DAYS = '7';
process.env.OPTIMIZE_TABLES_WEEKLY = 'false';
process.env.SECURITY_SCAN_ENABLED = 'false';
process.env.LOG_LEVEL = 'error';
process.env.LOG_FORMAT = 'json';
process.env.LOG_FILE_ENABLED = 'false';
process.env.LOG_FILE_PATH = './logs';
process.env.LOG_MAX_SIZE = '20m';
process.env.LOG_MAX_FILES = '14d';
process.env.LOG_DATE_PATTERN = 'YYYY-MM-DD';
process.env.LOG_CONSOLE_ENABLED = 'true';
process.env.LOG_CONSOLE_COLORIZE = 'false';
process.env.LOG_CONSOLE_TIMESTAMP = 'true';
process.env.ERROR_TRACKING_ENABLED = 'false';
process.env.ERROR_NOTIFICATION_EMAIL = 'admin@example.com';
process.env.PERFORMANCE_MONITORING_ENABLED = 'false';
process.env.SLOW_QUERY_THRESHOLD = '1000';
process.env.REQUEST_TIMEOUT_THRESHOLD = '5000';
process.env.MEMORY_USAGE_THRESHOLD = '80';
process.env.HEALTH_CHECK_INTERVAL = '30000';
process.env.HEALTH_CHECK_TIMEOUT = '5000';
process.env.DISK_SPACE_THRESHOLD = '80';
process.env.CPU_USAGE_THRESHOLD = '80';
process.env.METRICS_ENABLED = 'false';
process.env.METRICS_COLLECTION_INTERVAL = '60000';
process.env.CUSTOM_METRICS_ENABLED = 'false';
process.env.ALERTING_ENABLED = 'false';
process.env.ALERT_COOLDOWN_MINUTES = '15';
process.env.PROMETHEUS_ENABLED = 'false';
process.env.PROMETHEUS_PORT = '9090';
process.env.PROMETHEUS_ENDPOINT = '/metrics';
