# ===================================
# GENERAL CONFIGURATION
# ===================================

NODE_ENV=development
PORT=4000

# ===================================
# DATABASE CONFIGURATION
# ===================================

POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=your_db_user
POSTGRES_PASSWORD=your_db_password
POSTGRES_DB=your_db_name

# ===================================
# AUTHENTICATION CONFIGURATION
# ===================================

# Generate a 64-character random secret (openssl rand -base64 64)
JWT_SECRET=your_jwt_secret
JWT_EXPIRES_IN=7d

# ===================================
# AI SERVICE CONFIGURATION
# ===================================

OPENAI_API_KEY=your-openai-api-key
ANTHROPIC_API_KEY=your-anthropic-api-key
GROQ_API_KEY=your-groq-api-key

DEFAULT_AI_MODEL=llama-3.1-8b-instant
# DEFAULT_AI_MODEL=gpt-3.5-turbo
MAX_TOKENS_PER_REQUEST=4000

# ===================================
# PAYMENT CONFIGURATION
# ===================================

# Razorpay configuration (Test Mode)
RAZORPAY_KEY_ID=your_razorpay_key_id
RAZORPAY_KEY_SECRET=your_razorpay_key_secret
RAZORPAY_WEBHOOK_SECRET=your_razorpay_webhook_secret

PAYMENT_CURRENCY=INR
PAYMENT_SUCCESS_URL=http://localhost:3000/payment/success
PAYMENT_FAILURE_URL=http://localhost:3000/payment/failure

# ===================================
# CREDIT SYSTEM CONFIGURATION
# ===================================

# Core credit system
CREDIT_CACHE_TTL=60
CREDIT_RESERVATION_TTL=300
MAX_RESERVATIONS_PER_USER=5
MAX_RESERVATION_AMOUNT=1000
MIN_RESERVATION_AMOUNT=0.01

# Business rules
LOW_BALANCE_THRESHOLD=10
CRITICAL_BALANCE_THRESHOLD=5
MIN_CREDIT_TRANSACTION=0.01
MAX_CREDIT_TRANSACTION=100000

# Redis settings for credits
REDIS_CHECK_INTERVAL=30000
REDIS_TIMEOUT=1000
REDIS_RETRY_ATTEMPTS=3

# Cleanup settings
CLEANUP_BATCH_SIZE=50
CLEANUP_MAX_RETRIES=3
CLEANUP_LOCK_TTL=30
CLEANUP_BATCH_DELAY=10

# Performance settings
MAX_OPERATION_RETRIES=3
OPERATION_BASE_DELAY=100
ENABLE_OPTIMISTIC_LOCKING=false

# Idempotency
IDEMPOTENCY_TTL=300  

# ===================================
# RATE LIMITING CONFIGURATION
# ===================================

RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100
RATE_LIMIT_PREMIUM_MAX=500
RATE_LIMIT_ADMIN_MAX=1000

# ===================================
# SECURITY CONFIGURATION
# ===================================

BCRYPT_ROUNDS=12
SESSION_SECRET=your_session_secret
CORS_ORIGINS=http://localhost:3000,https://yourdomain.com

API_KEY_HEADER=x-api-key
MAX_REQUEST_SIZE=10mb
ENABLE_RATE_LIMITING=true
SECURITY_HEADERS=true

# ===================================
# BACKGROUND JOBS CONFIGURATION
# ===================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_JOBS_DB=1

JOB_CONCURRENCY=5
JOB_MAX_STALLED_COUNT=3
JOB_STALLED_INTERVAL=30000
COMPLETED_JOB_RETENTION=50
FAILED_JOB_RETENTION=20
JOB_LOG_RETENTION_DAYS=30

# ===================================
# EMAIL SERVICE CONFIGURATION
# ===================================

SMTP_HOST=smtp.your-email-provider.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@example.com
SMTP_PASSWORD=your_email_app_password
EMAIL_FROM="Your App Name <noreply@yourdomain.com>"

APP_URL=http://localhost:3000

# ===================================
# CRON JOB SCHEDULING
# ===================================

ENABLE_CRON_JOBS=true
ANALYTICS_CRON=0 2 * * *
MAINTENANCE_CRON=0 3 * * 0
BACKUP_CRON=0 1 * * *
CLEANUP_CRON=0 4 * * *

# ===================================
# ANALYTICS CONFIGURATION
# ===================================

ANALYTICS_RETENTION_DAYS=365
GENERATE_PDF_REPORTS=false
ANALYTICS_EMAIL_RECIPIENTS=admin@yourdomain.com

# ===================================
# MAINTENANCE CONFIGURATION
# ===================================

CLEANUP_BATCH_SIZE=1000
BACKUP_RETENTION_DAYS=30
OPTIMIZE_TABLES_WEEKLY=true
SECURITY_SCAN_ENABLED=true

# ===================================
# MONITORING & LOGGING CONFIGURATION
# ===================================

LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d
LOG_DATE_PATTERN=YYYY-MM-DD

LOG_CONSOLE_ENABLED=true
LOG_CONSOLE_COLORIZE=true
LOG_CONSOLE_TIMESTAMP=true

ERROR_TRACKING_ENABLED=true
ERROR_NOTIFICATION_EMAIL=admin@yourdomain.com
CRITICAL_ERROR_WEBHOOK=

PERFORMANCE_MONITORING_ENABLED=true
SLOW_QUERY_THRESHOLD=1000
REQUEST_TIMEOUT_THRESHOLD=30000
MEMORY_USAGE_THRESHOLD=80

HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000
DISK_SPACE_THRESHOLD=90
CPU_USAGE_THRESHOLD=80

METRICS_ENABLED=true
METRICS_COLLECTION_INTERVAL=60000
CUSTOM_METRICS_ENABLED=true

ALERTING_ENABLED=true
ALERT_COOLDOWN_MINUTES=30
SLACK_WEBHOOK_URL=
DISCORD_WEBHOOK_URL=

PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090
PROMETHEUS_ENDPOINT=/metrics
